(this.webpackJsonpelisaChallengeOption1=this.webpackJsonpelisaChallengeOption1||[]).push([[0],{175:function(e,a,n){"use strict";n.r(a);var t=n(0),l=n.n(t),r=n(5),c=n.n(r),o=(n(35),n(11));n(36),n(37);var i=function(e){return l.a.createElement("div",null,l.a.createElement("h1",null,"Over ",e.liveProgrammes.length," different programmes available!"),l.a.createElement("div",{className:"liveContainer"},e.liveProgrammes.map((function(a,n){return l.a.createElement("div",{className:"liveChannelContainer",key:n}," ",l.a.createElement("div",{className:"channelName"},function(e){return e.programs.length>0?e.programs[0].channel.name:l.a.createElement("p",null,"No Porgramme available")}(a)),l.a.createElement("div",null,function(a){if(!(a.programs.length>0))return l.a.createElement("p",null,"No IMG available");for(var n=0;e.channels.lenght>n;n++)return e.channels[n].id===a.channel.id?l.a.createElement("img",{src:e.channels[n].logos[0].url,alt:e.channels[n].name}):l.a.createElement("p",null,"No imahe available")}(a)),l.a.createElement("p",null,"Now Live:"),l.a.createElement("div",{className:"programName"},function(e){return e.programs.length>0?e.programs[0].name:l.a.createElement("p",null,"No Porgramme available")}(a)),l.a.createElement("div",{className:"endTimeProgram"},function(e){if(e.programs.length>0){var a=e.programs[0].endTime,n=e.programs[0].startTime;return a=a.substring(11),(n=n.substring(11))+" - "+a}return l.a.createElement("p",null," no end time")}(a)))}))))},s=n(10);var m=function(){return l.a.createElement("nav",{className:"header"},l.a.createElement(s.b,{style:{textDecoration:"none",color:"blue"},to:"/"},l.a.createElement("h1",null,"Elisa logo")),l.a.createElement("ul",{className:"listContainer"},l.a.createElement("li",null,l.a.createElement(s.b,{style:{textDecoration:"none",color:"blue"},to:"/home"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{style:{textDecoration:"none",color:"blue"},to:"/schedule"},"Schedule"))))},u=n(8),h=n(13),d=n(22);var g=function(e){var a=Object(t.useState)([]),n=Object(o.a)(a,2),r=n[0],c=n[1],i=Object(t.useState)({date:"",channelId:37,channelName:""}),s=Object(o.a)(i,2),m=s[0],u=s[1];Object(t.useEffect)((function(){g()}),[]),Object(t.useEffect)((function(){p(),console.log(m.date)}),[m]);var g=function(){var e=new Date,a=("0"+(e.getMonth()+1)).slice(-2),n=e.getFullYear()+"-"+a+"-22";u(Object(d.a)({},m,{date:n})),console.log(n)},E="https://rest-api.elisaviihde.fi/rest/epg/schedule?channelId="+m.channelId+"&date="+m.date,p=function(){fetch(E).then((function(e){return e.json()})).then((function(e){c(e.schedule[0])}))},f=function(e){e.preventDefault(),u(Object(d.a)({},m,Object(h.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"scheduleContainer"},l.a.createElement("h3",null,"Welcome to the schedule checker. Select a future or past date and a channel to check it's schedule."),l.a.createElement("div",{className:"inputContainer"},l.a.createElement("div",{className:"inputDiv"},l.a.createElement("label",{htmlFor:"requestedDate"},"Select a date:"),l.a.createElement("input",{type:"date",id:"requestedDate",name:"date",value:m.date,onChange:function(e){return f(e)}})),l.a.createElement("div",{className:"inputDiv"},l.a.createElement("label",{htmlFor:"requestedChannel"},"Select a channel:"),l.a.createElement("select",{id:"requestedChannel",value:m.channelId,name:"channelId",onChange:function(e){return f(e)}},e.channels.map((function(e,a){return l.a.createElement("option",{key:a,value:e.id},e.name)}))))),l.a.createElement("div",null,l.a.createElement("h2",null,"The programme schedule for"," ",l.a.createElement("img",{src:function(){for(var a=0;e.channels.length>a;a++)if(e.channels[a].id===m.channelId)return e.channels[a].logos[6].url}(),alt:"logo of"+m.channelName}),"on ",m.date),l.a.createElement("div",{className:"programmesContainer"},r.programs?r.programs.map((function(e,a){return l.a.createElement("div",{key:a,className:"liveProgrammeContainer"},l.a.createElement("div",{className:"liveProgrammeTop"},l.a.createElement("p",{className:"channelName"},e.name),l.a.createElement("p",null,e.startTime.substring(11)," -"," ",e.endTime.substring(11)," ")),l.a.createElement("img",{src:e.thumbnails[1].url,alt:"thumbnail of"+e.name,width:"400"}),l.a.createElement("p",null,e.shortDescription))})):l.a.createElement("p",null,"Nothin"))))};var E=function(){return l.a.createElement("footer",null,l.a.createElement("p",null,"The programme- and channel data is provided by Elisa as part of their pre-assignment."),l.a.createElement("p",null,"This assignment is made by Marius van der Busse"),l.a.createElement("p",null,"mariusvanderbusse@hotmail.com"),l.a.createElement("p",null,"+358 414720503"))};var p=function(){var e=Object(t.useState)([]),a=Object(o.a)(e,2),n=a[0],r=a[1],c=Object(t.useState)([]),h=Object(o.a)(c,2),d=h[0],p=h[1];Object(t.useEffect)((function(){f(),v()}),[]);var f=function(){fetch("https://rest-api.elisaviihde.fi/rest/epg/channels").then((function(e){return e.json()})).then((function(e){r(e.channels),console.log(e.channels)}))},v=function(){fetch("https://rest-api.elisaviihde.fi/rest/epg/schedule/live").then((function(e){return e.json()})).then((function(e){p(e.schedule),console.log(e.schedule)}))};return l.a.createElement("div",{className:"App"},l.a.createElement(s.a,null,l.a.createElement(m,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:["/","/home"],render:function(e){return l.a.createElement(i,Object.assign({},e,{channels:n,liveProgrammes:d,setLiveProgrammes:p}))}}),l.a.createElement(u.a,{path:"/schedule",render:function(e){return l.a.createElement(g,Object.assign({},e,{channels:n,liveProgrammes:d}))}}),l.a.createElement(u.a,{return:function(){return l.a.createElement("h1",null,"Page not found")}}))),l.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,a,n){e.exports=n(175)},35:function(e,a,n){},36:function(e,a,n){}},[[31,1,2]]]);
//# sourceMappingURL=main.d6610993.chunk.js.map